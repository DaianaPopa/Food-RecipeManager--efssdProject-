{% extends "base.html" %}

<!--Page Content-->
{% block content %}
    <!-- Large hero banner with featured recipe - Schwartz inspired -->
    <div class="position-relative mb-4" style="height: 400px; border-radius: 12px; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.3);">
        <!-- Hero background image -->
        <img src="/static/uploads/spaghetti_bolognese.jpg" alt="Featured Recipe" style="width: 100%; height: 100%; object-fit: cover;">
        
        <!-- Dark overlay for text readability -->
        <div style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: linear-gradient(to bottom, rgba(0,0,0,0.3) 0%, rgba(0,0,0,0.7) 100%);"></div>

        <!-- Hero text content -->
        <div style="position: absolute; bottom: 0; left: 0; right: 0; padding: 40px; color: white;">
            <h1 class="display-3 fw-bold mb-3" style="text-shadow: 2px 2px 4px rgba(0,0,0,0.5);">Recipe For All Occassion </h1>
            <p class="lead fs-4 mb-3" style="text-shadow: 1px 1px 2px rgba(0,0,0,0.5);">Discover Delicious Recipes Made Simple</p>
        
        <!-- Call to action buttons -->
            {% if session['user_id'] %}
                <a href="/recipes" class="btn btn-light btn-lg me-2" style="font-weight: 600; color: #c8102e; padding: 12px 30px;">Browse All Recipes</a>
                <a href="/create" class="btn btn-lg me-2" style="font-weight: 600; background-color: #f7941d; color: white; padding: 12px 30px; border: none;">Add New Recipe</a>
            {% else %}
                <a href="/register" class="btn btn-light btn-lg me-2" style="font-weight: 600; color: #c8102e; padding: 12px 30px;">Get Started Free</a>
                <a href="/login" class="btn btn-lg" style="font-weight: 600; background-color: #f7941d; color: white; padding: 12px 30px; border: none;">Sign In</a>
            {% endif %}
        </div>
    </div>

    <!-- Row for Recipes Grid-->
    <div class="row g-1 g-sm-3">
    {% for recipe in recipes %}

        <!-- Recipe Card Column -->
        <div class="col-sm-6">

            <!-- Recipe Card -->
            <div class="card h-100">

                <!-- Recipe Card Content Row -->
                <div class="row g-0">

                    <!-- Recipe Image/Poster Columns -->
                    <div class="col-4 col-sm-12 col-xl-4 bg-secondary-subtle d-flex align-items-center justify-content-center">
                        <a href="{{ url_for('recipe', id=recipe['id']) }}">
                            <img src="{{ recipe['poster'] }}" alt="Poster for {{ recipe['name'] }}" class="img-fluid">
                        </a>
                    </div>
                    <!-- Recipe Details Columns -->
                    <div class="col-8 col-sm-12 col-xl-8">
                        <div class="card-body">
                            <h5 class="card-title">{{ recipe['name'] }} ({{ recipe['portion'] }} portions)</h5>
                            <p class="card-text mb-1">Cooking time: {{ recipe['cook_time']}} min</p>
                            <!-- Cook/Prep time Badge and View Details Button -->
                            <div class="badge text-bg-secondary mb-2">Prep time: {{ recipe['prep_time'] }} min</div>
                            <br />
                            <a href="{{ url_for('recipe', id=recipe['id']) }}" class="btn btn-sm btn-outline-secondary">Method</a>  
                        </div>
                    </div>

                </div>

            </div> 

        </div> 

    {% endfor %}
    </div>
    
{% endblock %}
